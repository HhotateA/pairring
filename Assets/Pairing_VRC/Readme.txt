本商品(ペアリング)はVRC・Unityでの使用を想定した商品です。ペアになった2つの指輪が同じワールドにあると指輪の色が変わります。
NoUseMemoryバージョンとUseMemoryバージョンとLayLineがあります。UseMemoryバージョンは視界にメモリが写ってしまうことがありますがkeyのパターンが多くまた発光演出ができます。
LayLineバージョンでは指輪同士をつなぐ光の線が表現されています。
仕様上追加のカメラを使用していないのでフレンド以外でも指輪が輝く事を確認できますが、視界にメモリが写ってしまうことがあります。
機構(メモリ部分)のみをほかのアクセサリーに移すことでほかのアクセサリーで同じ動作をさせることもできます。

2018/12/9 販売開始
2018/12/10 機能追加
2018/12/14 更新
2018/12/20 バグ修正

【規約】
・2つの指輪セットが前提なので2次配布は1回までOKとします。
・VRCの仕様変更により本パッケージの機能が使えなくなった場合、製作者は責任を負いません。(可能な限りの対策はします。)
・著作権は製作者に帰属します。
・本製品を使って発生した問題に対しては製作者は一切の責任を負いません。

許可事項
・二次配布(一回のみ)
・改変・解析
禁止事項
・複数回の2次配布
・迷惑行為等

なにかあればこちらまで
Twitter : @HhotateA
Discord : hhotatea#0333

～UseMemoryバージョン
【導入方法】
①UseMemoryフォルダ内のPairingPlefabをアバターのHierarchyにドラッグ＆ドロップし、アバターの指のボーンの子に設定して位置をあわせる。
②マテリアルすべて(ColorReset,ColorAdd,Gem,MemoryHider)のkeyの数値を0～1000の間で変更します。(全てのマテリアルで同じ値に設定してください。)もう一つの指輪でもこの値を共有してください。可能な限りほかの方とかぶらない値を設定してください。
③Gemのマテリアル設定から光り方等を調節します。

【Propaty】
共通項目
・ｋｅｙ(0～9999)	:0	:メモリの位置です全てのマテリアルで同じ値にしてください。ペアとなる指輪と同じ値を設定してください。(ほかの人とかぶらないように設定してください。)

Ｇｅｍ
・Ｃｏｌｏｒ１	:藍	:ペアの指輪が存在しない場合の宝石の色です。
・Ｃｏｌｏｒ２	:赤	：ペアの指輪が存在する場合の指輪の色です。
・リムの強さ	:0	:リムライトの強さを設定できます。
・リムの色	:黒	:リムライトの色です。
・オーラの強さ	:1	:ペアの指輪が存在する場合に宝石が光ります。
・オーラの色	:赤	:宝石が輝いているときの色です。
・発光調節	:50	:宝石の輝き方を調節できます。
・Ｎｏｉｓｅ調節	:200,200,200,0.8	:宝石のＮｏｉｓｅテクスチャの大きさと透明度を指定出来ます。

【ほかのアクセサリーにシェーダーを適用する場合】
①アバターにアクセサリーをつける。Hierarchy上でアバターの子にアクセサリーがある状態にする。
②PairingPlefabをHierarchyにドラッグ＆ドロップしPairingPlefabの子のMemoryを①のアクセサリーの子にする。
③アクセサリーの光らせたい部分にGemマテリアルを適応する。
④マテリアルすべて(ColorReset,ColorAdd,Gem,StencillReset,StencillAdd)のkeyの数値を0～9999の間で変更します。(全てのマテリアルで同じ値に設定してください。)もう一つの指輪でもこの値を共有してください。可能な限りほかの方とかぶらない値を設定してください。


～NoUseMemoryバージョン
【導入方法】
①NoUseMemoryフォルダー内のPairingNoMemory1,2をアバターのHierarchyにドラッグ＆ドロップし、アバターの指のボーンの子に設定して位置をあわせる。
②GemEfectのkeyの値を10～255で被りづらい値にします。ペアとなる指輪のColorFilterの値も同じ値にします。
③ColorFilterの値を②の値とかぶらない値にします。ペアとなる指輪のGemEfectの値も同じ値にします。
④マテリアル設定から色の変わり方を調節します。

【Propaty】
共通項目
・ｋｅｙ(0～255)	:0	:ステンシルのDef値です。ペアとなる指輪と対応する値を設定してください。(ほかの人とかぶらないように設定してください。)
GemEfect
・Ｎｏｉｓｅ調節	:200,200,200,0.8	:宝石のＮｏｉｓｅテクスチャの大きさと透明度を指定出来ます。
・Color	:	:藍	:ペアの指輪が存在しない場合の宝石の色です。
ColorFilter
・Ｃｏｌｏｒ 	:赤	：ペアの指輪が存在する場合の指輪の色です。

【ほかのアクセサリーにシェーダーを適用する場合】
①アバターにアクセサリーをつける。Hierarchy上でアバターの子にアクセサリーがある状態にする。
②PairingPlefabをHierarchyにドラッグ＆ドロップしPairingPlefabの子のMemoryを①のアクセサリーの子にする。
③アクセサリーの光らせたい部分にGemEfectマテリアルを適応する。
④マテリアルすべて(GemEfect,ColorFilter)のkeyの数値を10～255の間で変更します。(ペアの指輪の対応するマテリアルで同じ値に設定してください。)可能な限りほかの方とかぶらない値を設定してください。


～LayLineバージョン
【導入方法】
①LayLineフォルダー内のLayRing1,2をアバターのHierarchyにドラッグ＆ドロップし、アバターの指のボーンの子に設定して位置をあわせる。
②マテリアルすべて(MemoryReset_Lay,VertexPass_Lay,Gem_Lay,MemoryHider_Lay)のkeyの数値を0～1000の間で変更します。(全てのマテリアルで同じ値に設定してください。)もう一つの指輪でもこの値を共有してください。可能な限りほかの方とかぶらない値を設定してください。
③2つの指輪のうち片一方のマテリアル(Gem_Lay2,VertexPass_Lay2)のマテリアル設定からPairSwitchのチェック項目にチェックを入れます。
③Gemのマテリアル設定から光り方等を調節します。

【Propaty】
共通項目
・ｋｅｙ(0～9999)	:0	:メモリの位置です全てのマテリアルで同じ値にしてください。ペアとなる指輪と同じ値を設定してください。(ほかの人とかぶらないように設定してください。)

Ｇｅｍ
・Ｃｏｌｏｒ１	:藍	:ペアの指輪が存在しない場合の宝石の色です。
・Ｃｏｌｏｒ２	:赤	：ペアの指輪が存在する場合の指輪の色です。
・リムの強さ	:0	:リムライトの強さを設定できます。
・リムの色	:黒	:リムライトの色です。
・オーラの強さ	:1	:ペアの指輪が存在する場合に宝石が光ります。
・オーラの色	:赤	:宝石が輝いているときの色です。
・発光調節	:50	:宝石の輝き方を調節できます。
・Ｎｏｉｓｅ調節	:200,200,200,0.8	:宝石のＮｏｉｓｅテクスチャの大きさと透明度を指定出来ます。
・レイの色	:赤	:指輪同士を結ぶ線の色です。
・レイの太さ	:0.001	:指輪同士を結ぶ線の太さです。
・レイの長さ	:0.5	:指輪同士を結ぶ線の長さです。(指輪間の距離に対する長さです)
・レイの透明度調節:1	:いい感じの設定値を見つけてください。

【ほかのアクセサリーにシェーダーを適用する場合】
①アバターにアクセサリーをつける。Hierarchy上でアバターの子にアクセサリーがある状態にする。
②PairingPlefabをHierarchyにドラッグ＆ドロップしPairingPlefabの子のMemoryを①のアクセサリーの子にする。
③アクセサリーの光らせたい部分にGemマテリアルを適応する。
④マテリアルすべて(ColorReset,ColorAdd,Gem,StencillReset,StencillAdd)のkeyの数値を0～9999の間で変更します。(全てのマテリアルで同じ値に設定してください。)もう一つの指輪でもこの値を共有してください。可能な限りほかの方とかぶらない値を設定してください。

以降わかる人向け
【解説】
画面上のkeyにより指定された部分に赤い点を描写し、その色が一定値を超えているか超えていないかで宝石の色を変更するか決めています。
メモリはレンダーキューにより以下の順番に実行されます。
・ＳｔｅｎｃｉｌｌResetによりkeyにより指定された部分のステンシル値が198に書き換わります。
・ＳｔｅｎｃｉｌｌＡｄｄによりkeyにより指定された部分のステンシル値を1つ上げます。2つのStencillAddが存在した場合ステンシル値は200になります。
・ColorResetによりkeyにより指定された部分のステンシル値が200であればその部分の色情報を0(黒)に戻します。
・ColorAddによりkeyにより指定された部分のステンシル値が200であればその部分に赤色に塗り替えます。
・Gemではkeyにより指定された部分の色情報を読み取り、赤色でなければColor1、赤色であればColor2に着色します。同様にビルボードで発光エフェクトを出します。
・Gemの描写終了後MemoryHiderによりGrabTextureをずらして表示して、メモリを目立たなくしています。
・メモリはバウンディングボックスを広げてアニメーションでONにすることでアップロード制限を回避しています。
・LayLineは3メモリ使い、指輪の有無・指輪1のビュー座標・指輪2のビュー座標をそれぞれ保管しています。
・あとは感覚でやってます。